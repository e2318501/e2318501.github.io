---
title: "QOL上げたい系自宅鯖主のサーバー構成"
date: 2023-09-18T02:09:16+09:00
draft: false
---

マイクラサーバーを自宅のマシンで稼働させているのですが、実はあまり自宅に設備を構築したい質ではなく、むしろクラウドで全て完結したい派です。しかしながらマイクラサーバーは消費するリソースがかなり多く (特にメモリ) 、運用コストの関係から自宅マシンでの運用という形態をとらざるを得ないので、なるべくQOLを維持しつつシンプルに管理できるサーバー環境というのが私の自宅サーバーのモットーになっています。

今回はそんな私の自宅サーバー環境を紹介しようと思います。

## ネットワーク周り

普通の一般家庭用のルーターを使っています。特に困ったことはないのでずっとこのままです。

ポート開放はしておらず、クラウド上でリクエストを受け付けて自宅マシンにVPNでトンネリングしています。

## サーバー用マシン

自作で組んだPCを使っています。サーバーは安定性が大事なので本当は既製品のマシンを使いたいところですが、用途的にメモリだけハイスペックを要求されるので、なるべく無難なパーツを使って自作しました。

マシンは複数台あっても音がうるさいだけなのでリソース不足に陥らない限りは1台のみ稼働していく予定です。

### ケース: Thermaltake Versa H17

有名な3000円くらいのめちゃくちゃ安いケースです。無難な構造なので満足しています。

### CPU: Intel Core i3-10100F

Webサーバーとかだと枯れた世代のCPUでも良いのですが、マイクラサーバーはシングルスレッドで動作するため、単コアの性能が高い世代の新しめのものにしています。Core i3なのでやや性能不足感は否めないですが特に困っていることもないのでとりあえずこのままです。

### メモリ: Crucial 32GB DDR4-3200 UDIMM × 2

マイクラサーバーなのでメモリは多めに積んでます。Crucialのメモリは安くて良き。

### ストレージ: シリコンパワー Ace A55 SSD 1TB

このSSD、安いのですがTBW (最大総書き込みバイト数) が大きいので採用しています。マイクラサーバーはファイルの読み書きも多いのでTBWは大事です。

### マザーボード: ASUS PRIME H410M-A

安定してそうなのでASUSです。I/Oポートも特に必要ないので廉価グレードのもので不足はありません。

### OS: Debian GNU/Linux 11

マイクラサーバーのDockerコンテナだけ動けば良いのでシンプルでネット上の情報が多いDebianにしています。UbuntuじゃないのはSnapとか余計なものが色々付いてくるからです。

## 管理方法とか

マシンの管理自体はSSHでCUIのみで行っています。Web上で管理できるソフトウェアを導入したこともありましたが、トラブル時には結局CUIを触ることになるので現在はSSHだけです。

マイクラサーバーの管理はPterodactylというソフトウェアを使っています。コンソールやファイル操作、バックアップなどを全てWeb上の管理パネルで行えるので便利です。

## まとめ

以前は業務用サーバーマシンを使ったり仮想化プラットフォームを導入したりしていた時期もありましたが、紆余曲折あってこのシンプルな構成に落ちついています。だんだんミニマリスト化してるかもしれません。

